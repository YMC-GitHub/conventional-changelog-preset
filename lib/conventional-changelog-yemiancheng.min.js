/**
 * conventional-changelog-yemiancheng v1.0.0
 * (c) 2018-2020 yemiancheng <ymc.github@gmail.com>
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self)["conventional-changelog-yemiancheng"]=e()}(this,function(){"use strict";function i(t){var e=typeof t;return null!==t&&("object"==e||"function"==e)}var t,e=(function(t,e){var n;n=function(){var c=!1;try{throw new Error}catch(t){c=!!t.stack}function e(){}var o,i=w(),f=function(){var n={task:void 0,next:null},e=n,r=!1,o=void 0,i=!1,u=[];function c(){for(var t,e;n.next;)t=(n=n.next).task,n.task=void 0,(e=n.domain)&&(n.domain=void 0,e.enter()),s(t,e);for(;u.length;)s(t=u.pop());r=!1}function s(t,e){try{t()}catch(t){if(i)throw e&&e.exit(),setTimeout(c,0),e&&e.enter(),t;setTimeout(function(){throw t},0)}e&&e.exit()}if(f=function(t){e=e.next={task:t,domain:i&&process.domain,next:null},r||(r=!0,o())},"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick)i=!0,o=function(){process.nextTick(c)};else if("function"==typeof setImmediate)o="undefined"!=typeof window?setImmediate.bind(window,c):function(){setImmediate(c)};else if("undefined"!=typeof MessageChannel){var t=new MessageChannel;t.port1.onmessage=function(){o=p,(t.port1.onmessage=c)()};var p=function(){t.port2.postMessage(0)};o=function(){setTimeout(c,0),p()}}else o=function(){setTimeout(c,0)};return f.runAfter=function(t){u.push(t),r||(r=!0,o())},f}(),n=Function.call;function t(t){return function(){return n.apply(t,arguments)}}var u,s=t(Array.prototype.slice),p=t(Array.prototype.reduce||function(t,e){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){e=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(e=t(e,this[n],n));return e}),a=t(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),r=t(Array.prototype.map||function(r,o){var i=this,u=[];return p(i,function(t,e,n){u.push(r.call(o,e,n,i))},void 0),u}),l=Object.create||function(t){function e(){}return e.prototype=t,new e},d=Object.defineProperty||function(t,e,n){return t[e]=n.value,t},h=t(Object.prototype.hasOwnProperty),y=Object.keys||function(t){var e=[];for(var n in t)h(t,n)&&e.push(n);return e},v=t(Object.prototype.toString);u="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var m="From previous event:";function g(t,e){if(c&&e.stack&&"object"==typeof t&&null!==t&&t.stack){for(var n=[],r=e;r;r=r.source)r.stack&&(!t.__minimumStackCounter__||t.__minimumStackCounter__>r.stackCounter)&&(d(t,"__minimumStackCounter__",{value:r.stackCounter,configurable:!0}),n.unshift(r.stack));n.unshift(t.stack);var o=function(t){for(var e=t.split("\n"),n=[],r=0;r<e.length;++r){var o=e[r];!k(o)&&(-1===(i=o).indexOf("(module.js:")&&-1===i.indexOf("(node.js:"))&&o&&n.push(o)}var i;return n.join("\n")}(n.join("\n"+m+"\n"));d(t,"stack",{value:o,configurable:!0})}}function j(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function k(t){var e=j(t);if(!e)return!1;var n=e[0],r=e[1];return n===o&&i<=r&&r<=V}function w(){if(c)try{throw new Error}catch(t){var e=t.stack.split("\n"),n=j(0<e[0].indexOf("@")?e[1]:e[2]);if(!n)return;return o=n[0],n[1]}}function b(t){return t instanceof O?t:N(t)?(e=t,n=R(),b.nextTick(function(){try{e.then(n.resolve,n.reject,n.notify)}catch(t){n.reject(t)}}),n.promise):U(t);var e,n}(b.resolve=b).nextTick=f,b.longStackSupport=!1;var x=1;function R(){var o,i=[],u=[],t=l(R.prototype),e=l(O.prototype);if(e.promiseDispatch=function(t,e,n){var r=s(arguments);i?(i.push(r),"when"===e&&n[1]&&u.push(n[1])):b.nextTick(function(){o.promiseDispatch.apply(o,r)})},e.valueOf=function(){if(i)return e;var t=C(o);return _(t)&&(o=t),t},e.inspect=function(){return o?o.inspect():{state:"pending"}},b.longStackSupport&&c)try{throw new Error}catch(t){e.stack=t.stack.substring(t.stack.indexOf("\n")+1),e.stackCounter=x++}function n(n){o=n,b.longStackSupport&&c&&(e.source=n),p(i,function(t,e){b.nextTick(function(){n.promiseDispatch.apply(n,e)})},void 0),u=i=void 0}return t.promise=e,t.resolve=function(t){o||n(b(t))},t.fulfill=function(t){o||n(U(t))},t.reject=function(t){o||n(H(t))},t.notify=function(n){o||p(u,function(t,e){b.nextTick(function(){e(n)})},void 0)},t}function T(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=R();try{t(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}return e.promise}function S(o){return T(function(t,e){for(var n=0,r=o.length;n<r;n++)b(o[n]).then(t,e)})}function O(o,i,e){void 0===i&&(i=function(t){return H(new Error("Promise does not support operation: "+t))}),void 0===e&&(e=function(){return{state:"unknown"}});var u=l(O.prototype);if(u.promiseDispatch=function(t,e,n){var r;try{r=o[e]?o[e].apply(u,n):i.call(u,e,n)}catch(t){r=H(t)}t&&t(r)},u.inspect=e){var t=e();"rejected"===t.state&&(u.exception=t.reason),u.valueOf=function(){var t=e();return"pending"===t.state||"rejected"===t.state?u:t.value}}return u}function E(t,e,n,r){return b(t).then(e,n,r)}function C(t){if(_(t)){var e=t.inspect();if("fulfilled"===e.state)return e.value}return t}function _(t){return t instanceof O}function N(t){return(e=t)===Object(e)&&"function"==typeof t.then;var e}"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(b.longStackSupport=!0),(b.defer=R).prototype.makeNodeResolver=function(){var n=this;return function(t,e){t?n.reject(t):2<arguments.length?n.resolve(s(arguments,1)):n.resolve(e)}},b.Promise=T,(b.promise=T).race=S,T.all=$,T.reject=H,(T.resolve=b).passByCopy=function(t){return t},O.prototype.passByCopy=function(){return this},b.join=function(t,e){return b(t).join(e)},O.prototype.join=function(t){return b([this,t]).spread(function(t,e){if(t===e)return t;throw new Error("Q can't join: not the same: "+t+" "+e)})},b.race=S,O.prototype.race=function(){return this.then(b.race)},(b.makePromise=O).prototype.toString=function(){return"[object Promise]"},O.prototype.then=function(e,n,o){var r=this,i=R(),u=!1;return b.nextTick(function(){r.promiseDispatch(function(t){u||(u=!0,i.resolve(function(t){try{return"function"==typeof e?e(t):t}catch(t){return H(t)}}(t)))},"when",[function(t){u||(u=!0,i.resolve(function(t){if("function"==typeof n){g(t,r);try{return n(t)}catch(t){return H(t)}}return H(t)}(t)))}])}),r.promiseDispatch(void 0,"when",[void 0,function(t){var e,n,r=!1;try{n=t,e="function"==typeof o?o(n):n}catch(t){if(r=!0,!b.onerror)throw t;b.onerror(t)}r||i.notify(e)}]),i.promise},b.tap=function(t,e){return b(t).tap(e)},O.prototype.tap=function(e){return e=b(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},b.when=E,O.prototype.thenResolve=function(t){return this.then(function(){return t})},b.thenResolve=function(t,e){return b(t).thenResolve(e)},O.prototype.thenReject=function(t){return this.then(function(){throw t})},b.thenReject=function(t,e){return b(t).thenReject(e)},b.nearer=C,b.isPromise=_,b.isPromiseAlike=N,b.isPending=function(t){return _(t)&&"pending"===t.inspect().state},O.prototype.isPending=function(){return"pending"===this.inspect().state},b.isFulfilled=function(t){return!_(t)||"fulfilled"===t.inspect().state},O.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},b.isRejected=function(t){return _(t)&&"rejected"===t.inspect().state},O.prototype.isRejected=function(){return"rejected"===this.inspect().state};var A,P,B,D=[],I=[],G=[],F=!0;function Q(){D.length=0,I.length=0,F=F||!0}function H(e){var t,n,r=O({when:function(t){return t&&function(e){if(F){var n=a(I,e);-1!==n&&("object"==typeof process&&"function"==typeof process.emit&&b.nextTick.runAfter(function(){var t=a(G,e);-1!==t&&(process.emit("rejectionHandled",D[n],e),G.splice(t,1))}),I.splice(n,1),D.splice(n,1))}}(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return t=r,n=e,F&&("object"==typeof process&&"function"==typeof process.emit&&b.nextTick.runAfter(function(){-1!==a(I,t)&&(process.emit("unhandledRejection",n,t),G.push(t))}),I.push(t),n&&void 0!==n.stack?D.push(n.stack):D.push("(no stack) "+n)),r}function U(n){return O({when:function(){return n},get:function(t){return n[t]},set:function(t,e){n[t]=e},delete:function(t){delete n[t]},post:function(t,e){return null==t?n.apply(void 0,e):n[t].apply(n,e)},apply:function(t,e){return n.apply(t,e)},keys:function(){return y(n)}},void 0,function(){return{state:"fulfilled",value:n}})}function K(t,e,n){return b(t).spread(e,n)}function M(t,e,n){return b(t).dispatch(e,n)}function $(t){return E(t,function(o){var i=0,u=R();return p(o,function(t,e,n){var r;_(e)&&"fulfilled"===(r=e.inspect()).state?o[n]=r.value:(++i,E(e,function(t){o[n]=t,0==--i&&u.resolve(o)},u.reject,function(t){u.notify({index:n,value:t})}))},void 0),0===i&&u.resolve(o),u.promise})}function q(o){if(0===o.length)return b.resolve();var i=b.defer(),u=0;return p(o,function(t,e,n){var r=o[n];u++,E(r,function(t){i.resolve(t)},function(t){if(0==--u){var e=t||new Error(""+t);e.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+e.message,i.reject(e)}},function(t){i.notify({index:n,value:t})})},void 0),i.promise}function z(t){return E(t,function(t){return t=r(t,b),E($(r(t,function(t){return E(t,e,e)})),function(){return t})})}b.resetUnhandledRejections=Q,b.getUnhandledReasons=function(){return D.slice()},b.stopUnhandledRejectionTracking=function(){Q(),F=!1},Q(),b.reject=H,b.fulfill=U,b.master=function(n){return O({isDef:function(){}},function(t,e){return M(n,t,e)},function(){return b(n).inspect()})},b.spread=K,O.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},b.async=function(e){return function(){function t(t,e){var n;if("undefined"==typeof StopIteration){try{n=r[t](e)}catch(t){return H(t)}return n.done?b(n.value):E(n.value,o,i)}try{n=r[t](e)}catch(t){return function(t){return"[object StopIteration]"===v(t)||t instanceof u}(t)?b(t.value):H(t)}return E(n,o,i)}var r=e.apply(this,arguments),o=t.bind(t,"next"),i=t.bind(t,"throw");return o()}},b.spawn=function(t){b.done(b.async(t)())},b.return=function(t){throw new u(t)},b.promised=function(n){return function(){return K([this,$(arguments)],function(t,e){return n.apply(t,e)})}},b.dispatch=M,O.prototype.dispatch=function(t,e){var n=this,r=R();return b.nextTick(function(){n.promiseDispatch(r.resolve,t,e)}),r.promise},b.get=function(t,e){return b(t).dispatch("get",[e])},O.prototype.get=function(t){return this.dispatch("get",[t])},b.set=function(t,e,n){return b(t).dispatch("set",[e,n])},O.prototype.set=function(t,e){return this.dispatch("set",[t,e])},b.del=b.delete=function(t,e){return b(t).dispatch("delete",[e])},O.prototype.del=O.prototype.delete=function(t){return this.dispatch("delete",[t])},b.mapply=b.post=function(t,e,n){return b(t).dispatch("post",[e,n])},O.prototype.mapply=O.prototype.post=function(t,e){return this.dispatch("post",[t,e])},b.send=b.mcall=b.invoke=function(t,e){return b(t).dispatch("post",[e,s(arguments,2)])},O.prototype.send=O.prototype.mcall=O.prototype.invoke=function(t){return this.dispatch("post",[t,s(arguments,1)])},b.fapply=function(t,e){return b(t).dispatch("apply",[void 0,e])},O.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},b.try=b.fcall=function(t){return b(t).dispatch("apply",[void 0,s(arguments,1)])},O.prototype.fcall=function(){return this.dispatch("apply",[void 0,s(arguments)])},b.fbind=function(t){var e=b(t),n=s(arguments,1);return function(){return e.dispatch("apply",[this,n.concat(s(arguments))])}},O.prototype.fbind=function(){var t=this,e=s(arguments);return function(){return t.dispatch("apply",[this,e.concat(s(arguments))])}},b.keys=function(t){return b(t).dispatch("keys",[])},O.prototype.keys=function(){return this.dispatch("keys",[])},b.all=$,O.prototype.all=function(){return $(this)},b.any=q,O.prototype.any=function(){return q(this)},b.allResolved=(A=z,P="allResolved",B="allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(P+" is deprecated, use "+B+" instead.",new Error("").stack),A.apply(A,arguments)}),O.prototype.allResolved=function(){return z(this)},b.allSettled=function(t){return b(t).allSettled()},O.prototype.allSettled=function(){return this.then(function(t){return $(r(t,function(t){function e(){return t.inspect()}return(t=b(t)).then(e,e)}))})},b.fail=b.catch=function(t,e){return b(t).then(void 0,e)},O.prototype.fail=O.prototype.catch=function(t){return this.then(void 0,t)},b.progress=function(t,e){return b(t).then(void 0,void 0,e)},O.prototype.progress=function(t){return this.then(void 0,void 0,t)},b.fin=b.finally=function(t,e){return b(t).finally(e)},O.prototype.fin=O.prototype.finally=function(e){if(!e||"function"!=typeof e.apply)throw new Error("Q can't apply finally callback");return e=b(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},b.done=function(t,e,n,r){return b(t).done(e,n,r)},O.prototype.done=function(t,e,n){var r=function(t){b.nextTick(function(){if(g(t,o),!b.onerror)throw t;b.onerror(t)})},o=t||e||n?this.then(t,e,n):this;"object"==typeof process&&process&&process.domain&&(r=process.domain.bind(r)),o.then(void 0,r)},b.timeout=function(t,e,n){return b(t).timeout(e,n)},O.prototype.timeout=function(t,e){var n=R(),r=setTimeout(function(){e&&"string"!=typeof e||((e=new Error(e||"Timed out after "+t+" ms")).code="ETIMEDOUT"),n.reject(e)},t);return this.then(function(t){clearTimeout(r),n.resolve(t)},function(t){clearTimeout(r),n.reject(t)},n.notify),n.promise},b.delay=function(t,e){return void 0===e&&(e=t,t=void 0),b(t).delay(e)},O.prototype.delay=function(n){return this.then(function(t){var e=R();return setTimeout(function(){e.resolve(t)},n),e.promise})},b.nfapply=function(t,e){return b(t).nfapply(e)},O.prototype.nfapply=function(t){var e=R(),n=s(t);return n.push(e.makeNodeResolver()),this.fapply(n).fail(e.reject),e.promise},b.nfcall=function(t){var e=s(arguments,1);return b(t).nfapply(e)},O.prototype.nfcall=function(){var t=s(arguments),e=R();return t.push(e.makeNodeResolver()),this.fapply(t).fail(e.reject),e.promise},b.nfbind=b.denodeify=function(n){if(void 0===n)throw new Error("Q can't wrap an undefined function");var r=s(arguments,1);return function(){var t=r.concat(s(arguments)),e=R();return t.push(e.makeNodeResolver()),b(n).fapply(t).fail(e.reject),e.promise}},O.prototype.nfbind=O.prototype.denodeify=function(){var t=s(arguments);return t.unshift(this),b.denodeify.apply(void 0,t)},b.nbind=function(n,r){var o=s(arguments,2);return function(){var t=o.concat(s(arguments)),e=R();return t.push(e.makeNodeResolver()),b(function(){return n.apply(r,arguments)}).fapply(t).fail(e.reject),e.promise}},O.prototype.nbind=function(){var t=s(arguments,0);return t.unshift(this),b.nbind.apply(void 0,t)},b.nmapply=b.npost=function(t,e,n){return b(t).npost(e,n)},O.prototype.nmapply=O.prototype.npost=function(t,e){var n=s(e||[]),r=R();return n.push(r.makeNodeResolver()),this.dispatch("post",[t,n]).fail(r.reject),r.promise},b.nsend=b.nmcall=b.ninvoke=function(t,e){var n=s(arguments,2),r=R();return n.push(r.makeNodeResolver()),b(t).dispatch("post",[e,n]).fail(r.reject),r.promise},O.prototype.nsend=O.prototype.nmcall=O.prototype.ninvoke=function(t){var e=s(arguments,1),n=R();return e.push(n.makeNodeResolver()),this.dispatch("post",[t,e]).fail(n.reject),n.promise},b.nodeify=function(t,e){return b(t).nodeify(e)},O.prototype.nodeify=function(e){if(!e)return this;this.then(function(t){b.nextTick(function(){e(null,t)})},function(t){b.nextTick(function(){e(t)})})},b.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var V=w();return b},"function"==typeof bootstrap?bootstrap("promise",n):t.exports=n()}(t={exports:{}},t.exports),t.exports),n={headerPattern:/^(\w*)(?:\((.*)\))?: (.*)$/,headerCorrespondence:["type","scope","subject"],noteKeywords:["BREAKING CHANGE"],revertPattern:/^(?:Revert|revert:)\s"?([\s\S]+?)"?\s*This reverts commit (\w*)\./i,revertCorrespondence:["header","hash"]};function u(t){for(var e=t.split("."),n=[],r=0;r<e.length;r++){for(var o=e[r];"\\"===o[o.length-1]&&void 0!==e[r+1];)o=o.slice(0,-1)+".",o+=e[++r];n.push(o)}return n}var c=function(t,e){if(!i(t)||"string"!=typeof e)return t;for(var n=u(e),r=0;r<n.length;r++){var o=Object.getOwnPropertyDescriptor(t,n[r])||Object.getOwnPropertyDescriptor(Object.prototype,n[r]);if(o&&!o.enumerable)return;if(null==(t=t[n[r]])){if(r!==n.length-1)return;break}}return t};function s(e){return function(r,o){var t,i=0;return(t=e,Array.isArray(t)?t:[t]).some(function(t){var e,n;if(n="function"==typeof t?(e=t(r),t(o)):"string"==typeof t?(e=c(r,t),c(o,t)):(e=r,o),e!==n)return"string"==typeof e&&"string"==typeof n?0!==(i=e.localeCompare(n)):(i=e<n?-1:1,!0);i=0}),i}}var r=require("path"),o=require("fs"),p=e.denodeify(o.readFile),f=r.resolve,a=e.all([p(f(__dirname,"./templates/template.hbs"),"utf-8"),p(f(__dirname,"./templates/header.hbs"),"utf-8"),p(f(__dirname,"./templates/commit.hbs"),"utf-8"),p(f(__dirname,"./templates/footer.hbs"),"utf-8")]).spread(function(t,e,n,r){var o={transform:function(t,n){var e=!0,r=[];if(t.notes.forEach(function(t){t.title="BREAKING CHANGES",e=!1}),"feat"===t.type)t.type="Features";else if("fix"===t.type)t.type="Bug Fixes";else if("perf"===t.type)t.type="Performance Improvements";else if("revert"===t.type||t.revert)t.type="Reverts";else if("docs"===t.type)t.type="Documentation";else if("style"===t.type)t.type="Styles";else if("refactor"===t.type)t.type="Code Refactoring";else if("test"===t.type)t.type="Tests";else{if(e)return;"build"===t.type?t.type="Build System":"ci"===t.type&&(t.type="Continuous Integration")}if("*"===t.scope&&(t.scope=""),"string"==typeof t.hash&&(t.shortHash=t.hash.substring(0,7)),"string"==typeof t.subject){var o=n.repository?n.host+"/"+n.owner+"/"+n.repository:n.repoUrl;o&&(o+="/issues/",t.subject=t.subject.replace(/#([0-9]+)/g,function(t,e){return r.push(e),"[#"+e+"]("+o+e+")"})),n.host&&(t.subject=t.subject.replace(/\B@([a-z0-9](?:-?[a-z0-9/]){0,38})/g,function(t,e){return e.includes("/")?"@"+e:"[@"+e+"]("+n.host+"/"+e+")"}))}return t.references=t.references.filter(function(t){return-1===r.indexOf(t.issue)}),t},groupBy:"type",commitGroupsSort:"title",commitsSort:["scope","subject"],noteGroupsSort:"title",notesSort:s};return o.mainTemplate=t,o.headerPartial=e,o.commitPartial=n,o.footerPartial=r,o});var l=e.all([n,a]).spread(function(t,e){return{parserOpts:t,writerOpts:e}}),d={parserOpts:n,whatBump:function(t){var e=2,n=0,r=0;return t.forEach(function(t){0<t.notes.length?(n+=t.notes.length,e=0):"feat"===t.type&&(r+=1,2===e&&(e=1))}),{level:e,reason:1===n?"There is "+n+" BREAKING CHANGE and "+r+" features":"There are "+n+" BREAKING CHANGES and "+r+" features"}}};return e.all([l,n,d,a]).spread(function(t,e,n,r){return{conventionalChangelog:t,parserOpts:e,recommendedBumpOpts:n,writerOpts:r}})});